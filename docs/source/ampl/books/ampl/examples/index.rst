
AMPL Book Examples
==================

| **AMPL: A Modeling Language for Mathematical Programming**
| by Robert Fourer, David M. Gay, and Brian W. Kernighan
| Second edition
| 517 + xxi pp., ISBN 0-534-38809-4
| :download:`The AMPL Book PDF <../ampl-book.pdf>`

.. warning::
    The original AMPL book does not reflect many of the latest features available in AMPL. For example, it doesn't cover our new high-level modeling constructs that are `automatically reformulated <https://mp.ampl.com/model-guide.html>`_. Additionally, for modern data transfer and programmatic interaction with your models, we recommend using :ref:`APIs <apis>` such as our widely used :ref:`Python API <python_integration>`.

Use this page to download all the model, data, and script files that appear as examples in the AMPL book (second edition). You can download everything in one file:

- :download:`zipfile <./EXAMPLES/EXAMPLES2/amplbook2.zip>` with line endings characteristic of Windows
- :download:`gzipped tar file <./EXAMPLES/EXAMPLES2/amplbook2.tgz>` with line endings characteristic of Unix

Or download individual files from our listings below, by filename or by figure number.



Book examples by filename
-------------------------

+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| Model file                         | Figure | Data file                          | Figure | Script file                      | Figure |
+====================================+========+====================================+========+==================================+========+
|                                    |        | :doc:`assign.dat <assign.dat>`     | 3-2    |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`blend.mod <blend.mod>`       | 2-4    |                                    |        |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`cut.mod <cut.mod>`           | 14-2   | :doc:`cut.dat <cut.dat>`           | 14-4   | :doc:`cut.run <cut.run>`         | 14-3   |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`cut2.mod <cut2.mod>`         | 14-6   |                                    |        | :doc:`cut2.run <cut2.run>`       |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`diet.mod <diet.mod>`         | 2-1    | :doc:`diet.dat <diet.dat>`         | 2-2    |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
|                                    |        | :doc:`diet2.dat <diet2.dat>`       | 2-3    | :doc:`diet.run <diet.run>`       | 14-1   |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
|                                    |        | :doc:`diet2a.dat <diet2a.dat>`     | 2-3    |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`dietu.mod <dietu.mod>`       | 5-1    | :doc:`dietu.dat <dietu.dat>`       | 5-2    |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`econ.mod <econ.mod>`         | 19-3   | :doc:`econ.dat <econ.dat>`         | 19-2   |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`econmin.mod <econmin.mod>`   | 19-1   |                                    |        |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`econ2.mod <econ2.mod>`       | 19-4   | :doc:`econ2.dat <econ2.dat>`       |        |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`econ2min.mod <econ2min.mod>` |        |                                    |        |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`econnl.mod <econnl.mod>`     | 19-5   | :doc:`econnl.dat <econnl.dat>`     |        |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`iocol1.mod <iocol1.mod>`     | 16-2   |                                    |        |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`iocol2.mod <iocol2.mod>`     | 16-3   |                                    |        |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`iorow.mod <iorow.mod>`       | 16-1   |                                    |        |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`minmax.mod <minmax.mod>`     | 17-9   |                                    |        |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`multi.mod <multi.mod>`       | 4-1    | :doc:`multi.dat <multi.dat>`       | 4-2    |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`multic.mod <multic.mod>`     | 6-5    |                                    |        |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`multmip1.mod <multmip1.mod>` | 20-1a  | :doc:`multmip1.dat <multmip1.dat>` | 20-1b  |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`multmip2.mod <multmip2.mod>` |        | :doc:`multmip2.dat <multmip2.dat>` |        |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`multmip3.mod <multmip3.mod>` | 20-2a  | :doc:`multmip3.dat <multmip3.dat>` | 20-2b  |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`net1.mod <net1.mod>`         | 15-2a  | :doc:`net1.dat <net1.dat>`         | 15-2b  |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`net1node.mod <net1node.mod>` | 15-10  |                                    |        |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`net2.mod <net2.mod>`         | 15-3a  | :doc:`net2.dat <net2.dat>`         | 15-3b  |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`net3.mod <net3.mod>`         | 15-4a  | :doc:`net3.dat <net3.dat>`         | 15-4b  |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`net3node.mod <net3node.mod>` | 15-11  |                                    |        |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`netasgn.mod <netasgn.mod>`   | 15-9   |                                    |        |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`netfeeds.mod <netfeeds.mod>` | 15-14  |                                    |        |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`netmax.mod <netmax.mod>`     | 15-6   |                                    |        |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`netmax3.mod <netmax3.mod>`   | 15-12  |                                    |        |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`netmcol.mod <netmcol.mod>`   | 16-6   |                                    |        |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`netmulti.mod <netmulti.mod>` | 15-13  |                                    |        |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`netshort.mod <netshort.mod>` | 15-7   |                                    |        |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`netthru.mod <netthru.mod>`   | 15-15  |                                    |        |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`nltrans.mod <nltrans.mod>`   | 18-4   | :doc:`nltrans.dat <nltrans.dat>`   | 18-5   |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`nltransb.mod <nltransb.mod>` |        |                                    |        |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`nltransc.mod <nltransc.mod>` |        |                                    |        |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`nltransd.mod <nltransd.mod>` |        |                                    |        |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`prod0.mod <prod0.mod>`       |        |                                    |        |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`prod.mod <prod.mod>`         | 1-2    | :doc:`prod.dat <prod.dat>`         | 1-3    |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`sched.mod <sched.mod>`       | 16-4   | :doc:`sched.dat <sched.dat>`       | 16-5   |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`steel.mod <steel.mod>`       | 1-4a   | :doc:`steel.dat <steel.dat>`       | 1-4b   |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
|                                    |        | :doc:`steel2.dat <steel2.dat>`     |        |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`steel3.mod <steel3.mod>`     | 1-5a   | :doc:`steel3.dat <steel3.dat>`     | 1-5b   |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`steel4.mod <steel4.mod>`     | 1-6a   | :doc:`steel4.dat <steel4.dat>`     | 1-6b   |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`steel4r.mod <steel4r.mod>`   |        | :doc:`steel4r.dat <steel4r.dat>`   |        |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`steelP.mod <steelP.mod>`     | 4-6    | :doc:`steelP.dat <steelP.dat>`     | 4-7    |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`steelpl1.mod <steelpl1.mod>` | 17-5a  | :doc:`steelpl1.dat <steelpl1.dat>` | 17-5b  |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`steelpl2.mod <steelpl2.mod>` |        | :doc:`steelpl2.dat <steelpl2.dat>` |        |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`steelpl3.mod <steelpl3.mod>` |        |                                    |        |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`steelpl4.mod <steelpl4.mod>` |        | :doc:`steelpl4.dat <steelpl4.dat>` |        |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`steelpl5.mod <steelpl5.mod>` |        | :doc:`steelpl5.dat <steelpl5.dat>` |        |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`steelT0.mod <steelT0.mod>`   | 4-3    |                                    |        |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
|                                    |        |                                    |        | :doc:`steelT.sa1 <steelT.sa1>`   |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
|                                    |        |                                    |        | :doc:`steelT.sa2 <steelT.sa2>`   |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`steelT.mod <steelT.mod>`     | 4-4    | :doc:`steelT.dat <steelT.dat>`     | 4-5    | :doc:`steelT.sa3 <steelT.sa3>`   | 13-1   |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
|                                    |        |                                    |        | :doc:`steelT.sa4 <steelT.sa4>`   | 13-3   |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
|                                    |        |                                    |        | :doc:`steelT.sa5 <steelT.sa5>`   | 13-4   |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
|                                    |        |                                    |        | :doc:`steelT.sa7 <steelT.sa7>`   | 13-5   |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
|                                    |        |                                    |        | :doc:`steelT.tab1 <steelT.tab1>` | 13-2   |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`steelT2.mod <steelT2.mod>`   | 5-3    | :doc:`steelT2.dat <steelT2.dat>`   | 5-4    |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`steelT3.mod <steelT3.mod>`   | 6-3    | :doc:`steelT3.dat <steelT3.dat>`   | 6-4    |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`transp.mod <transp.mod>`     | 3-1a   | :doc:`transp.dat <transp.dat>`     | 3-1b   |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`transp2.mod <transp2.mod>`   | 6-1    |                                    |        |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+
| :doc:`transp3.mod <transp3.mod>`   | 6-2a   | :doc:`transp3.dat <transp3.dat>`   | 6-2b   |                                  |        |
+------------------------------------+--------+------------------------------------+--------+----------------------------------+--------+



Book examples by figure number
------------------------------

+--------+------------------------------------+
| Figure | File                               |
+========+====================================+
| 1-2    | :doc:`prod.mod <prod.mod>`         |
+--------+------------------------------------+
| 1-3    | :doc:`prod.dat <prod.dat>`         |
+--------+------------------------------------+
| 1-4a   | :doc:`steel.mod <steel.mod>`       |
+--------+------------------------------------+
| 1-4b   | :doc:`steel.dat <steel.dat>`       |
+--------+------------------------------------+
| 1-5a   | :doc:`steel3.mod <steel3.mod>`     |
+--------+------------------------------------+
| 1-5b   | :doc:`steel3.dat <steel3.dat>`     |
+--------+------------------------------------+
| 1-6a   | :doc:`steel4.mod <steel4.mod>`     |
+--------+------------------------------------+
| 1-6b   | :doc:`steel4.dat <steel4.dat>`     |
+--------+------------------------------------+
| 2-1    | :doc:`diet.mod <diet.mod>`         |
+--------+------------------------------------+
| 2-2    | :doc:`diet.dat <diet.dat>`         |
+--------+------------------------------------+
| 2-3    | :doc:`diet2.dat <diet2.dat>`       |
+--------+------------------------------------+
| 2-4    | :doc:`blend.mod <blend.mod>`       |
+--------+------------------------------------+
| 3-1a   | :doc:`transp.mod <transp.mod>`     |
+--------+------------------------------------+
| 3-1b   | :doc:`transp.dat <transp.dat>`     |
+--------+------------------------------------+
| 3-2    | :doc:`assign.dat <assign.dat>`     |
+--------+------------------------------------+
| 4-1    | :doc:`multi.mod <multi.mod>`       |
+--------+------------------------------------+
| 4-2    | :doc:`multi.dat <multi.dat>`       |
+--------+------------------------------------+
| 4-3    | :doc:`steelT0.mod <steelT0.mod>`   |
+--------+------------------------------------+
| 4-4    | :doc:`steelT.mod <steelT.mod>`     |
+--------+------------------------------------+
| 4-5    | :doc:`steelT.dat <steelT.dat>`     |
+--------+------------------------------------+
| 4-6    | :doc:`steelP.mod <steelP.mod>`     |
+--------+------------------------------------+
| 4-7    | :doc:`steelP.dat <steelP.dat>`     |
+--------+------------------------------------+
| 5-1    | :doc:`dietu.mod <dietu.mod>`       |
+--------+------------------------------------+
| 5-2    | :doc:`dietu.dat <dietu.dat>`       |
+--------+------------------------------------+
| 5-3    | :doc:`steelT2.mod <steelT2.mod>`   |
+--------+------------------------------------+
| 5-4    | :doc:`steelT2.dat <steelT2.dat>`   |
+--------+------------------------------------+
| 6-1    | :doc:`transp2.mod <transp2.mod>`   |
+--------+------------------------------------+
| 6-2a   | :doc:`transp3.mod <transp3.mod>`   |
+--------+------------------------------------+
| 6-2b   | :doc:`transp3.dat <transp3.dat>`   |
+--------+------------------------------------+
| 6-3    | :doc:`steelT3.mod <steelT3.mod>`   |
+--------+------------------------------------+
| 6-4    | :doc:`steelT3.dat <steelT3.dat>`   |
+--------+------------------------------------+
| 6-5    | :doc:`multic.mod <multic.mod>`     |
+--------+------------------------------------+
| 13-1   | :doc:`steelT.sa3 <steelT.sa3>`     |
+--------+------------------------------------+
| 13-2   | :doc:`steelT.tab1 <steelT.tab1>`   |
+--------+------------------------------------+
| 13-3   | :doc:`steelT.sa4 <steelT.sa4>`     |
+--------+------------------------------------+
| 13-4   | :doc:`steelT.sa5 <steelT.sa5>`     |
+--------+------------------------------------+
| 13-5   | :doc:`steelT.sa7 <steelT.sa7>`     |
+--------+------------------------------------+
| 14-1   | :doc:`diet.run <diet.run>`         |
+--------+------------------------------------+
| 14-2   | :doc:`cut.mod <cut.mod>`           |
+--------+------------------------------------+
| 14-3   | :doc:`cut.run <cut.run>`           |
+--------+------------------------------------+
| 14-4   | :doc:`cut.dat <cut.dat>`           |
+--------+------------------------------------+
| 14-6   | :doc:`cut2.mod <cut2.mod>`         |
+--------+------------------------------------+
| 15-2a  | :doc:`net1.mod <net1.mod>`         |
+--------+------------------------------------+
| 15-2b  | :doc:`net1.dat <net1.dat>`         |
+--------+------------------------------------+
| 15-3a  | :doc:`net2.mod <net2.mod>`         |
+--------+------------------------------------+
| 15-3b  | :doc:`net2.dat <net2.dat>`         |
+--------+------------------------------------+
| 15-4a  | :doc:`net3.mod <net3.mod>`         |
+--------+------------------------------------+
| 15-4b  | :doc:`net3.dat <net3.dat>`         |
+--------+------------------------------------+
| 15-6   | :doc:`netmax.mod <netmax.mod>`     |
+--------+------------------------------------+
| 15-7   | :doc:`netshort.mod <netshort.mod>` |
+--------+------------------------------------+
| 15-9   | :doc:`netasgn.mod <netasgn.mod>`   |
+--------+------------------------------------+
| 15-10  | :doc:`net1node.mod <net1node.mod>` |
+--------+------------------------------------+
| 15-11  | :doc:`net3node.mod <net3node.mod>` |
+--------+------------------------------------+
| 15-12  | :doc:`netmax3.mod <netmax3.mod>`   |
+--------+------------------------------------+
| 15-13  | :doc:`netmulti.mod <netmulti.mod>` |
+--------+------------------------------------+
| 15-14  | :doc:`netfeeds.mod <netfeeds.mod>` |
+--------+------------------------------------+
| 15-15  | :doc:`netthru.mod <netthru.mod>`   |
+--------+------------------------------------+
| 16-1   | :doc:`iorow.mod <iorow.mod>`       |
+--------+------------------------------------+
| 16-2   | :doc:`iocol1.mod <iocol1.mod>`     |
+--------+------------------------------------+
| 16-3   | :doc:`iocol2.mod <iocol2.mod>`     |
+--------+------------------------------------+
| 16-4   | :doc:`sched.mod <sched.mod>`       |
+--------+------------------------------------+
| 16-5   | :doc:`sched.dat <sched.dat>`       |
+--------+------------------------------------+
| 16-6   | :doc:`netmcol.mod <netmcol.mod>`   |
+--------+------------------------------------+
| 17-2   | :doc:`transpl1.mod <transpl1.mod>` |
+--------+------------------------------------+
| 17-3a  | :doc:`transpl2.mod <transpl2.mod>` |
+--------+------------------------------------+
| 17-3b  | :doc:`transpl2.dat <transpl2.dat>` |
+--------+------------------------------------+
| 17-5a  | :doc:`steelpl1.mod <steelpl1.mod>` |
+--------+------------------------------------+
| 17-5b  | :doc:`steelpl1.dat <steelpl1.dat>` |
+--------+------------------------------------+
| 17-9   | :doc:`minmax.mod <minmax.mod>`     |
+--------+------------------------------------+
| 18-4   | :doc:`nltrans.mod <nltrans.mod>`   |
+--------+------------------------------------+
| 18-5   | :doc:`nltrans.dat <nltrans.dat>`   |
+--------+------------------------------------+
| 19-1   | :doc:`econmin.mod <econmin.mod>`   |
+--------+------------------------------------+
| 19-2   | :doc:`econ.dat <econ.dat>`         |
+--------+------------------------------------+
| 19-3   | :doc:`econ.mod <econ.mod>`         |
+--------+------------------------------------+
| 19-4   | :doc:`econ2.mod <econ2.mod>`       |
+--------+------------------------------------+
| 19-5   | :doc:`econnl.mod <econnl.mod>`     |
+--------+------------------------------------+
| 20-1a  | :doc:`multmip1.mod <multmip1.mod>` |
+--------+------------------------------------+
| 20-1b  | :doc:`multmip1.dat <multmip1.dat>` |
+--------+------------------------------------+
| 20-2a  | :doc:`multmip3.mod <multmip3.mod>` |
+--------+------------------------------------+
| 20-2b  | :doc:`multmip3.dat <multmip3.dat>` |
+--------+------------------------------------+



Additional Scripts: Looping and Testing - 1
-------------------------------------------

Writing “scripts” in the AMPL command language

All examples use :doc:`steelT.mod <steelT.mod>` as the model file and the :doc:`steelT.dat <steelT.dat>` as the data file.

+------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------+
| Implements                                                                                                                               | Script file                                                       |
+==========================================================================================================================================+===================================================================+
| One pass of sensitivity analysis on avail[3] in the multi-period production problem (Section 4.2)                                        | :doc:`steelT.sa1 <steelT.sa1>`                                    |
+------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------+
| Same as :doc:`steelT.sa1 <steelT.sa1>` but split into two scripts, using the commands command                                            | :doc:`steelT.sa1a <steelT.sa1a>` :doc:`steelT.sa1b <steelT.sa1b>` |
+------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------+
| Iterated sensitivity analysis, using contents of :doc:`steelT.sa1a <steelT.sa1a>` and :doc:`steelT.sa1b <steelT.sa1b>` within a for loop | :doc:`steelT.sa2 <steelT.sa2>`                                    |
+------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------+
| ... also building a table of results                                                                                                     | :doc:`steelT.sa3 <steelT.sa3>`                                    |
+------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------+
| ... also using repeat until, and building up an index set for the table                                                                  | :doc:`steelT.sa4 <steelT.sa4>`                                    |
+------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------+
| ... also using if to record only those parameter values at which the dual price changes                                                  | :doc:`steelT.sa5 <steelT.sa5>`                                    |
+------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------+
| Binary search to find a breakpoint in the dual value                                                                                     | :doc:`steelT.sa6 <steelT.sa6>`                                    |
+------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------+
| ... also handling the case of more than one breakpoint in the initial interval                                                           | :doc:`steelT.sa6a <steelT.sa6a>`                                  |
+------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------+
| ... also counting the extra breakpoints detected                                                                                         | :doc:`steelT.sa6b <steelT.sa6b>`                                  |
+------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------+
| Sensitivity analysis using break and continue                                                                                            | :doc:`steelT.sa7 <steelT.sa7>`                                    |
+------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------+
| ... also for each t, printing at the end of each pass                                                                                    | :doc:`steelT.sa7a <steelT.sa7a>`                                  |
+------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------+
| ... also for each t, storing all values until the end                                                                                    | :doc:`steelT.sa7b <steelT.sa7b>`                                  |
+------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------+
| ... also incorporating a break criterion requiring a named loop                                                                          | :doc:`steelT.sa7c <steelT.sa7c>`                                  |
+------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------+
| Data-specific script for a formatted table                                                                                               | :doc:`steelT.tab0 <steelT.tab0>`                                  |
+------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------+
| General script for formatted table, using a for loop                                                                                     | :doc:`steelT.tab1 <steelT.tab1>`                                  |
+------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------+
| ... also with if statement to suppress printing of 100%                                                                                  | :doc:`steelT.tab2 <steelT.tab2>`                                  |
+------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------+



Additional Scripts: Looping and Testing - 2
-------------------------------------------

Implementing algorithms through AMPL scripts

+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------+---------------------------------------------------------------------+
| Implements                                                                                                                                                                                            | Script                             | Uses                                                                |
+=======================================================================================================================================================================================================+====================================+=====================================================================+
| Gilmore-Gomory column generation procedure for the cutting-stock (roll trim) problem                                                                                                                  | :doc:`cut1.run <cut1.run>`         | :doc:`cut1.mod <cut1.mod>` :doc:`cut.dat <cut.dat>`                 |
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------+---------------------------------------------------------------------+
| Same as cut1.run, but using an alternative arrangement wherein problems are defined immediately before before their members are declared                                                              | :doc:`cut2.run <cut2.run>`         | :doc:`cut2.mod <cut2.mod>` :doc:`cut.dat <cut.dat>`                 |
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------+---------------------------------------------------------------------+
| Same as cut1.run, but with better formatting of output                                                                                                                                                | :doc:`cut3.run <cut3.run>`         | :doc:`cut1.mod <cut1.mod>` :doc:`cut.dat <cut.dat>`                 |
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------+---------------------------------------------------------------------+
| Dantzig-Wolfe decomposition for a multi-commodity transportation problem, using a single subproblem                                                                                                   | :doc:`multi1.run <multi1.run>`     | :doc:`multi1.mod <multi1.mod>` :doc:`multi1.dat <multi1.dat>`       |
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------+---------------------------------------------------------------------+
| Same as multi1.run, but using the same repeat loop for both phase I (infeasible) and phase II (feasible).                                                                                             | :doc:`multi1a.run <multi1a.run>`   | :doc:`multi1.mod <multi1.mod>` :doc:`multi1.dat <multi1.dat>`       |
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------+---------------------------------------------------------------------+
| Same as multi1.run, but using a separate subproblem for each product; subproblems are represented in AMPL by an indexed collection of named problems                                                  | :doc:`multi2.run <multi2.run>`     | :doc:`multi2.mod <multi2.mod>` :doc:`multi2.dat <multi2.dat>`       |
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------+---------------------------------------------------------------------+
| Same as multi2.run, except that the separate subproblems are realized by changing the data to a single AMPL named problem                                                                             | :doc:`multi3.run <multi3.run>`     | :doc:`multi3.mod <multi3.mod>` :doc:`multi3.dat <multi3.dat>`       |
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------+---------------------------------------------------------------------+
| Benders decomposition for a stochastic programming variant of a multi-period production problem (see Exercise 4-5)                                                                                    | :doc:`stoch1.run <stoch1.run>`     | :doc:`stoch1.mod <stoch1.mod>` :doc:`stoch.dat <stoch.dat>`         |
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------+---------------------------------------------------------------------+
| Same as stoch1.run, but using a separate subproblem for each scenario; subproblems are represented in AMPL by an indexed collection of named problems                                                 | :doc:`stoch2.run <stoch2.run>`     | :doc:`stoch2.mod <stoch2.mod>` :doc:`stoch.dat <stoch.dat>`         |
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------+---------------------------------------------------------------------+
| Same as stoch2.run, except that the separate subproblems are realized by changing the data to a single AMPL named problem                                                                             | :doc:`stoch3.run <stoch3.run>`     | :doc:`stoch3.mod <stoch3.mod>` :doc:`stoch.dat <stoch.dat>`         |
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------+---------------------------------------------------------------------+
| Benders decomposition for a location-transportation problem (original model in trnloc.mod)                                                                                                            | :doc:`trnloc1.run <trnloc1.run>`   | :doc:`trnloc1.mod <trnloc1.mod>` :doc:`trnloc.dat <trnloc.dat>`     |
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------+---------------------------------------------------------------------+
| Same as trnloc2a.run, but model has upper limits on the Ship variables: LP relaxation bound is still poor, but subproblem does not have the integrality property and considerable improvement is made | :doc:`trnloc2b.run <trnloc2b.run>` | :doc:`trnloc2b.mod <trnloc2b.mod>` :doc:`trnloc2.dat <trnloc2.dat>` |
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------+---------------------------------------------------------------------+
| Same as trnloc2b.run, but model has 0-1 constraints disaggregated: LP relaxation bound is good, but subproblem has the integrality property and no further improvement can be made                    | :doc:`trnloc2c.run <trnloc2c.run>` | :doc:`trnloc2c.mod <trnloc2c.mod>` :doc:`trnloc2.dat <trnloc2.dat>` |
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------+---------------------------------------------------------------------+
| Lagrangian relaxation for a location-transportation problem: LP relaxation bound is poor, and subproblem has the integrality property so no improvement can be made                                   | :doc:`trnloc2a.run <trnloc2a.run>` | :doc:`trnloc2a.mod <trnloc2a.mod>` :doc:`trnloc2.dat <trnloc2.dat>` |
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------+---------------------------------------------------------------------+



Logic & Constraint Programming Examples
---------------------------------------

This is a preliminary set of examples to offer some starting points for experimenting with AMPL’s `“logic” and constraint programming interfaces <https://ampl.com/products/ampl/logic-and-constraint-programming-extensions/>`_. We welcome comments for improvements or other examples. 

+-----------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| Represents                                                                                                                                                | Model File                                                                                                                     |
+===========================================================================================================================================================+================================================================================================================================+
| Integer program for assignment of people of groups so that each group is “balanced” by various criteria.                                                  | :doc:`balAssign0.mod <balAssign0.mod>` :doc:`balAssign0.dat <balAssign0.dat>`                                                  |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| Constraint program for balanced assignment of people to groups, using the numberof operator.                                                              | :doc:`balAssign1.mod <balAssign1.mod>` :doc:`balAssign1.dat <balAssign1.dat>`                                                  |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| Model for map coloring using not-equals constraint.                                                                                                       | :doc:`mapColoring.mod <mapColoring.mod>`                                                                                       |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| Integer program for the n queens problem: put n queens on an n-by-n chessboard so that no queen is attacking any other queen.                             | :doc:`nQueens0.mod <nQueens0.mod>`                                                                                             |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| Constraint program for the n queens problem, using the alldiff operator.                                                                                  | :doc:`nQueens.mod <nQueens.mod>`                                                                                               |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| Open-shop scheduling model using disjunctive constraints to avoid job and machine conflicts.                                                              | :doc:`openShop.mod <openShop.mod>` :doc:`openShop.dat <openShop.dat>`                                                          |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| Line up a group of people to maximize the number of adjacency preferences satisfied, modeling with alldiff, equivalence (<==>), and strict inequality (<) | :doc:`photo.mod <photo.mod>` :doc:`photo9.dat <photo9.dat>` :doc:`photo11.dat <photo11.dat>`                                   |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| Hoist scheduling model using disjunctive constraints                                                                                                      | :doc:`singleHoist.mod <singleHoist.mod>` :doc:`singleHoist3.dat <singleHoist3.dat>` :doc:`singleHoist4.dat <singleHoist4.dat>` |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
| Model to solve instances of the 3 x 3 Sudoku problem, using the alldiff operator                                                                          | :doc:`sudoku.mod <sudoku.mod>` :doc:`sudokuVeryEasy.dat <sudokuVeryEasy.dat>` :doc:`sudokuHard.dat <sudokuHard.dat>`           |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+


List of example files
---------------------


.. toctree::
    :maxdepth: 2

    assign.dat.rst
    balAssign0.dat.rst
    balAssign0.mod.rst
    balAssign1.dat.rst
    balAssign1.mod.rst
    blend.mod.rst
    cut.dat.rst
    cut.mod.rst
    cut.run.rst
    cut1.mod.rst
    cut1.run.rst
    cut2.mod.rst
    cut2.run.rst
    cut3.run.rst
    diet.dat.rst
    diet.mod.rst
    diet.run.rst
    diet2.dat.rst
    diet2a.dat.rst
    dietu.dat.rst
    dietu.mod.rst
    econ.dat.rst
    econ.mod.rst
    econ2.dat.rst
    econ2.mod.rst
    econ2min.mod.rst
    econmin.mod.rst
    econnl.dat.rst
    econnl.mod.rst
    iocol1.mod.rst
    iocol2.mod.rst
    iorow.mod.rst
    mapColoring.mod.rst
    minmax.mod.rst
    multi.dat.rst
    multi.mod.rst
    multi1.dat.rst
    multi1.mod.rst
    multi1.run.rst
    multi1a.run.rst
    multi2.dat.rst
    multi2.mod.rst
    multi2.run.rst
    multi3.dat.rst
    multi3.mod.rst
    multi3.run.rst
    multic.mod.rst
    multmip1.dat.rst
    multmip1.mod.rst
    multmip2.dat.rst
    multmip2.mod.rst
    multmip3.dat.rst
    multmip3.mod.rst
    nQueens.mod.rst
    nQueens0.mod.rst
    net1.dat.rst
    net1.mod.rst
    net1node.mod.rst
    net2.dat.rst
    net2.mod.rst
    net3.dat.rst
    net3.mod.rst
    net3node.mod.rst
    netasgn.mod.rst
    netfeeds.mod.rst
    netmax.mod.rst
    netmax3.mod.rst
    netmcol.mod.rst
    netmulti.mod.rst
    netshort.mod.rst
    netthru.mod.rst
    nltrans.dat.rst
    nltrans.mod.rst
    nltransb.mod.rst
    nltransc.mod.rst
    nltransd.mod.rst
    openShop.dat.rst
    openShop.mod.rst
    photo.mod.rst
    photo11.dat.rst
    photo9.dat.rst
    prod.dat.rst
    prod.mod.rst
    prod0.mod.rst
    sched.dat.rst
    sched.mod.rst
    singleHoist.mod.rst
    singleHoist3.dat.rst
    singleHoist4.dat.rst
    steel.dat.rst
    steel.mod.rst
    steel2.dat.rst
    steel3.dat.rst
    steel3.mod.rst
    steel4.dat.rst
    steel4.mod.rst
    steel4r.dat.rst
    steel4r.mod.rst
    steelP.dat.rst
    steelP.mod.rst
    steelT.dat.rst
    steelT.mod.rst
    steelT.sa1.rst
    steelT.sa1a.rst
    steelT.sa1b.rst
    steelT.sa2.rst
    steelT.sa3.rst
    steelT.sa4.rst
    steelT.sa5.rst
    steelT.sa6.rst
    steelT.sa6a.rst
    steelT.sa6b.rst
    steelT.sa7.rst
    steelT.sa7a.rst
    steelT.sa7b.rst
    steelT.sa7c.rst
    steelT.tab0.rst
    steelT.tab1.rst
    steelT.tab2.rst
    steelT0.mod.rst
    steelT2.dat.rst
    steelT2.mod.rst
    steelT3.dat.rst
    steelT3.mod.rst
    steelpl1.dat.rst
    steelpl1.mod.rst
    steelpl2.dat.rst
    steelpl2.mod.rst
    steelpl3.mod.rst
    steelpl4.dat.rst
    steelpl4.mod.rst
    steelpl5.dat.rst
    steelpl5.mod.rst
    stoch.dat.rst
    stoch1.mod.rst
    stoch1.run.rst
    stoch2.mod.rst
    stoch2.run.rst
    stoch3.mod.rst
    stoch3.run.rst
    sudoku.mod.rst
    sudokuHard.dat.rst
    sudokuVeryEasy.dat.rst
    transp.dat.rst
    transp.mod.rst
    transp2.mod.rst
    transp3.dat.rst
    transp3.mod.rst
    transpl1.mod.rst
    transpl2.dat.rst
    transpl2.mod.rst
    trnloc.dat.rst
    trnloc1.mod.rst
    trnloc1.run.rst
    trnloc2.dat.rst
    trnloc2a.mod.rst
    trnloc2a.run.rst
    trnloc2b.mod.rst
    trnloc2b.run.rst
    trnloc2c.mod.rst
    trnloc2c.run.rst
